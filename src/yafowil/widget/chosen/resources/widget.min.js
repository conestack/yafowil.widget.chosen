var yafowil_chosen=function(e,i){"use strict";class n{static initialize(e){i("select.chosen",e).each(function(e){void 0!==window.yafowil_array&&window.yafowil_array.inside_template(i(this))||new n(i(this))})}constructor(e){e.data("yafowil-chosen",this),this.elem=e;let n=e.data();if(e.chosen(n),n.new_values){let n=i(".search-field input",e.parent());n.on("change",this.change_handle.bind(this)),n.on("keyup",this.keyup_handle.bind(this))}}change_handle(e){e.preventDefault();let n=i(e.currentTarget).val();if(!n)return;let t=!1;i("option",this.elem).each(function(){this.value===n&&(t=!0)}),t||(this.elem.append(`<option selected="selected">${n}</option>`),this.elem.trigger("chosen:updated"))}keyup_handle(e){13==(e.keyCode||e.which)&&this.change_handle(e)}}function t(e,i){n.initialize(i,!0)}function a(){void 0!==window.yafowil_array&&window.yafowil_array.on_array_event("on_add",t)}return i(function(){void 0!==window.ts?ts.ajax.register(n.initialize,!0):void 0!==window.bdajax?bdajax.register(n.initialize,!0):n.initialize(),a()}),e.ChosenWidget=n,e.register_array_subscribers=a,Object.defineProperty(e,"__esModule",{value:!0}),window.yafowil=window.yafowil||{},window.yafowil.chosen=e,e}({},jQuery);
