var yafowil_chosen=function(e,i){"use strict";class t{static initialize(e){i("select.chosen",e).each((function(e){i(this).parents(".arraytemplate").length||new t(i(this))}))}constructor(e){e.data("yafowil-chosen",this),this.elem=e;let t=e.data();if(e.chosen(t),t.new_values){let t=i(".search-field input",e.parent());t.on("change",this.change_handle.bind(this)),t.on("keyup",this.keyup_handle.bind(this))}}change_handle(e){e.preventDefault();let t=i(e.currentTarget).val();if(!t)return;let n=!1;i("option",this.elem).each((function(){this.value===t&&(n=!0)})),n||(this.elem.append(`<option selected="selected">${t}</option>`),this.elem.trigger("chosen:updated"))}keyup_handle(e){13==(e.keyCode||e.which)&&this.change_handle(e)}}function n(e,i){t.initialize(i,!0)}function a(){void 0!==window.yafowil_array&&window.yafowil_array.on_array_event("on_add",n)}return i((function(){void 0!==window.ts?ts.ajax.register(t.initialize,!0):void 0!==window.bdajax?bdajax.register(t.initialize,!0):t.initialize(),a()})),e.ChosenWidget=t,e.register_array_subscribers=a,Object.defineProperty(e,"__esModule",{value:!0}),window.yafowil=window.yafowil||{},window.yafowil.chosen=e,e}({},jQuery);
